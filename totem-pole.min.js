(function(){if("undefined"===typeof TP){var d={any:[]};TP=function(h,g){this.view=document.getElementById(h).cloneNode(true);this.view.id="";this.data={};this.set=f(this.view);this.kill=b;this.html=this.view.outerHTML;if((typeof g)==="object"){this.set(g)}};TP.subscribe=function(g,h){if(typeof g=="function"){h=g;g="any"}d[g]=d[g]||[];d[g].push(h)};TP.publish=function(k,h){var j=0,g=d[k].length;if((typeof k)=="object"&&h==null){h=k;k="any"}for(;j<g;j++){d[k][j].apply(null,h)}}}var c=["click","change","focus","keydown","keypress","keyup","mousedown","mouseout","mouseover","mouseup","submit"];function f(h){var g=e.call(h,{});function i(j,k){if(g.hasOwnProperty(j)){var l=g[j];a.call(l,k,this);this.data[j]=k}}return function(j,m){if((typeof j)==="object"){var l=j;for(var k in l){i.call(this,k,l[k])}}else{if((typeof j)==="string"&&["string","object","function"].indexOf(typeof m)!==-1){i.call(this,j,m)}}this.html=this.view.outerHTML}}function a(k,g){var j=this.element;var i=this.type;if(i==="style"){for(var h in k){j.style[h]=k[h]}}else{if(i==="attr"){for(var h in k){j[h]=k[h]}}else{if(i==="html"){j.innerHTML=k}else{if(c.indexOf(i)!==-1){j["on"+i]=function(l){k.call(j,g)}}else{if(i==="text"||i===""){j.innerText=k}else{j[i]=k}}}}}}function e(g){var i=this.children;if(i&&i.length!=0){for(var j in i){g=e.call(i[j],g)}}if(this.dataset&&this.dataset.tp){var h=this.dataset.tp.replace(/\s/g,"").split(",");for(var j in h){g[h[j].split(":")[0]]={type:h[j].split(":")[1]||"",element:this}}}return g}function b(){this.view.remove()}})();
(function(){var k={any:[]},c=[],j=["click","change","focus","keydown","keypress","keyup","mousedown","mouseout","mouseover","mouseup","submit"];TP=function(q,l){var m=(q=="body")?document.body:document.getElementById(q);if(l instanceof Array){var p=[];i=1,max=l.length;p=[];p.push(a.call({view:m},l[0],q));for(;i<max;i++){var o=m.cloneNode(true),n=a.call({view:o},l[i],q);o.id="";p.push(n);f(o,m);m=o}return p}else{return a.call({view:m},l)}};TP.template=function(n,l){var m={};m.view=document.getElementById(n).cloneNode(true);a.call(m,l,n);return m};TP.subscribe=function(l,m){if(typeof l=="function"){m=l;l="any"}k[l]=k[l]||[];k[l].push(m)};TP.publish=function(o,m){var n=0,l=k[o]?k[o].length:0;if((typeof o)=="object"&&m==null){m=o;o="any"}for(;n<l;n++){k[o][n].apply(null,m)}};TP.all=function(){var o=[],n="",m=0,l=0;for(n in c){l=c[n].length;for(m=0;m<l;m++){if(c[n][m]){o.push(c[n][m])}}}return o};TP.group=function(p){var n=[],o=c[p],m=0,l=o.length;for(;m<l;m++){if(o[m]){n.push(o[m])}}return n};TP.chain=function(l,m){if(l=="all"){}else{(function(n,o){TP.subscribe(n,function(){var r=TP.group(n),q=0,p=r.length;for(;q<p;q++){o.call(r[q])}})})(l,m)}};e();function a(l,m){this.view.id="";this.data={};this.set=d(this);this.kill=h;this.html=this.view.outerHTML;this._id=0;this._group=m;if((typeof l)==="object"){this.set(l)}if(!c[m]){c[m]=[]}this._id=c[m].length;c[m].push(this)}function d(s){var o=g.call(s.view,{}),t="",l={};for(t in o){var m=0,q=o[t].length;l[t]=null;for(;m<q;m++){var n=o[t][m].dom,p=o[t][m].type;if(p==="html"&&n.innerHTML){l[t]=n.innerHTML}else{if(p==="text"&&n.innerText){l[t]=n.innerText}else{if(p==="value"&&n.value){l[t]=n.value}}}}}b(s,o,l);function r(u,v){if(o.hasOwnProperty(u)){var w=o[u];if(typeof v!="function"){this.data[u]=v}}}return function(u,x){var w={};if((typeof u)==="object"){w=u;for(var v in w){r.call(this,v,w[v])}}else{if((typeof u)==="string"&&["string","object","function"].indexOf(typeof x)!==-1){r.call(this,u,x);w[u]=x}}TP.publish("data-change",[this,o,w])}}function b(u,r,n){for(var v in n){if(!r.hasOwnProperty(v)){continue}var l=r[v],s="",q={},p=n[v],o=0,t=l.length;for(;o<t;o++){s=l[o].type;q=l[o].dom;if(s==="style"){for(var m in p){q.style[m]=p[m]}}else{if(s==="attr"){for(var m in p){q[m]=p[m]}}else{if(s==="html"){q.innerHTML=p}else{if(j.indexOf(s)!==-1){(function(w,x){w.addEventListener(s,function(y){x.call(w,u)})})(q,p)}else{if(s==="text"){q.innerText=p}else{if(s==="value"){q.value=p;q.onchange=function(w){u.set(v,q.value)}}else{q[s]=p}}}}}}}}}function g(l){var n=this.children;if(n&&n.length!=0){for(var o in n){l=g.call(n[o],l)}}if(this.dataset&&this.dataset.tp){var m=this.dataset.tp.replace(/\s/g,"").split(",");for(var o in m){if(l[m[o].split(":")[0]]){l[m[o].split(":")[0]].push({type:m[o].split(":")[1]||"text",dom:this})}else{l[m[o].split(":")[0]]=[{type:m[o].split(":")[1]||"text",dom:this}]}}}return l}function h(){this.view.remove();delete c[this._group][this._id]}function e(){TP.subscribe("data-change",function(l,n,m){b(l,n,m);l.html=l.view.outerHTML;TP.publish(l._group);TP.publish("all")})}function f(o,n){var l=n.parentNode;var m=n.nextSibling;if(m===null){l.appendChild(o)}else{l.insertBefore(o,m)}return o}})();